<div class="flex mb-6 p-1 justify-between">
  <div class="self-center">
    <select
      class="h-30 min-h-30 text-black m-2"
      data-test-rr="sort-selector"
      {{on "change" this.updateSortBy}}
    >
      <option value="ratingDesc" data-test-rr="sort-by-rating-desc" selected={{eq this.sortBy "ratingDesc"}}>By rating, descending</option>
      <option value="ratingAsc" data-test-rr="sort-by-rating-asc" selected={{eq this.sortBy "ratingAsc"}}>By rating, ascending</option>
      <option value="titleDesc" data-test-rr="sort-by-title-desc" selected={{eq this.sortBy "titleDesc"}}>By title, descending</option>
      <option value="titleAsc" data-test-rr="sort-by-title-asc" selected={{eq this.sortBy "titleAsc"}}>By title, ascending</option>
    </select>
  </div>

  <div class="bg-white rounded ml-auto h-8 m-2">
    <Input
      @type="text"
      class="text-black outline-none pl-1"
      @value={{this.searchTerm}}
      data-test-rr="search-box"
      placeholder="Search..."
    />
    <div class="inline-block text-black bg-white px-2 p-1 cursor-pointer rounded">{{fa-icon "search"}}</div>
  </div>
</div>

<ul>
  {{#each this.sortedSongs as |song|}}
    <li class="mb-2" data-test-rr="song-list-item">
      {{capitalize song.title}}
      <StarRating
        class="fr"
        @rating={{song.rating}}
        @onClick={{fn this.updateRating song}}
      />
    </li>
  {{else}}
    <li class="tc">
      No {{capitalize this.model.name}} songs yet, why don't you <a href="#" {{ on "click" this.addSong}}>create one?</a> 
    </li>
  {{/each}}
</ul>

<div>
  {{#if this.isAddingSong}}
    <form {{on "submit" this.saveSong}} data-test-rr="new-song-form">
      <Input 
        @type="text"
        @value={{this.newSongTitle}}
        class="pl-1 outline-none text-black"
        placeholder={{this.newSongTitle}}
        data-test-rr="new-song-input"
      />

      <div class="ml2">
        <button 
          type="submit"
          disabled={{this.isAddButtonDisabled}}
          data-test-rr="new-song-button">
            Add
        </button>

        <button
          type="button"
          {{on "click" this.cancelAddSong}}>
            {{fa-icon "times"}}
        </button>
      </div>
    </form>
  {{else}}
    <label 
      type="label"
      class="avenir bn bg-transparent near-white"
      data-test-rr="new-song-label"
      {{on "click" this.addSong}}>
        {{fa-icon "plus"}}
        Add New Song
    </label>
  {{/if}}
</div>
